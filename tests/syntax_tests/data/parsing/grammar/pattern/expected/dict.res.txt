let someDict = (Primitive_dict.make [|("one", "one")|])
let {one = one; _} = someDict
let foo = (fun () -> (match someDict with | {one = "one"; _} -> (Js.log "one") | _ -> (Js.log "not one")))
type json = Boolean of bool | Null | String of string | Number of float | Object of json dict | Array of t array
type nonrec user = {
  name: string ;
  age: float }
let decodeUser = (fun (json : json) -> ((match json with | Object {name = String name; age = ageJson; _} -> Some {name = name; age = (match ageJson with | Number age -> Some age | _ -> None)} | _ -> ((Js.log "Not an object."); None)) : user option))
;;(Js.log (decodeUser (jsonParse "{\"name\": \"John\", \"age\": 30}")))